package com.entity;

public class Chukudata {
	private String cktime;
	private String ckperson;
	private String seno;
	private String amount;
	private String ckname;
	
	public Chukudata(String cktime,String ckperson,String seno,String amount,String ckname){
		super();
		this.cktime=cktime;
		this.ckperson=ckperson;
		this.seno=seno;
		this.amount=amount;
		this.ckname=ckname;
	}
	
	public Chukudata(){
		super();
	}

	public String getCktime() {
		return cktime;
	}

	public void setCktime(String cktime) {
		this.cktime = cktime;
	}

	public String getCkperson() {
		return ckperson;
	}

	public void setCkperson(String ckperson) {
		this.ckperson = ckperson;
	}

	public String getSeno() {
		return seno;
	}

	public void setSeno(String seno) {
		this.seno = seno;
	}

	public String getAmount() {
		return amount;
	}

	public void setAmount(String amount) {
		this.amount = amount;
	}

	public String getCkname() {
		return ckname;
	}

	public void setCkname(String ckname) {
		this.ckname = ckname;
	}

	@Override
	public String toString() {
		return "chuku [cktime=" + cktime + ", ckperson=" + ckperson
				+ ", seno=" + seno + ", amount=" + amount + ", ckname="
				+ ckname + "]";
	}
	
	
}


package com.dao.show;

import java.sql.SQLException;
import java.util.List;

import org.apache.commons.dbutils.QueryRunner;
import org.apache.commons.dbutils.handlers.BeanListHandler;
import com.entity.Chukudata;
import com.util.JdbcUtil;

public class ShowChukuDaoImpl implements ShowChukuDao {

	public List<Chukudata> showData(String tablename) {
		try {
			QueryRunner qr = new QueryRunner(JdbcUtil.getDataSource());
			String sql = "SELECT * FROM "+tablename+" where amount!=0 ORDER BY seno ";
			return (List<Chukudata>)qr.query(sql, new BeanListHandler(Chukudata.class));
		} catch (SQLException e) {
			e.printStackTrace();
			throw new RuntimeException(e);
		}
	}
	

}


package com.service.show;

import java.util.List;

import com.dao.show.ShowChukuDao;
import com.dao.show.ShowChukuDaoImpl;
import com.entity.Chukudata;

public class ShowChukuServiceImpl implements ShowChukuService {
	ShowChukuDao dao = new ShowChukuDaoImpl();
	public List<Chukudata> showData(String tablename) {	
		System.out.println(dao.showData(tablename));
		return dao.showData(tablename);
	}

}

