package com.entity;

public class Alltabledata {
	private String seno;
	private String amount;
	private String rkname;
	
	public Alltabledata(String seno, String amount, String rkname) {
		super();
		this.seno = seno;
		this.amount = amount;
		this.rkname = rkname;
	}
	public Alltabledata() {
		super();
		// TODO Auto-generated constructor stub
	}
	public String getSeno() {
		return seno;
	}
	public void setSeno(String seno) {
		this.seno = seno;
	}
	public String getAmount() {
		return amount;
	}
	public void setAmount(String amount) {
		this.amount = amount;
	}
	public String getRkname() {
		return rkname;
	}
	public void setRkname(String rkname) {
		this.rkname = rkname;
	}
	@Override
	public String toString() {
		return "ruku [seno=" + seno + ", amount=" + amount + ", rkname="
				+ rkname + "]";
	}
	
	
	
}

package com.dao.show;

import java.sql.SQLException;
import java.util.List;

import org.apache.commons.dbutils.QueryRunner;
import org.apache.commons.dbutils.handlers.BeanListHandler;

import com.entity.Alltabledata;
import com.util.JdbcUtil;


public class ShowDataDaoImpl implements ShowDataDao {


	public List<Alltabledata> showData(String tablename) {
		try {
			QueryRunner qr = new QueryRunner(JdbcUtil.getDataSource());
			String sql = "SELECT * FROM "+tablename+" where amount !=0 ORDER BY seno";
			return (List<Alltabledata>)qr.query(sql, new BeanListHandler(Alltabledata.class));
		} catch (SQLException e) {
			e.printStackTrace();
			throw new RuntimeException(e);
		}
	}
}

package com.service.show;

import java.util.List;

import com.dao.show.ShowDataDao;
import com.dao.show.ShowDataDaoImpl;
import com.entity.Alltabledata;

public class ShowDataServiceImpl implements ShowDataService {

	ShowDataDao dao = new ShowDataDaoImpl();
	public List<Alltabledata> showData(String tablename) {	
		System.out.println(dao.showData(tablename));
		return dao.showData(tablename);
	}

}

